

## 1.1 设计模式概论

### 1.1 代码与设计模式

🔥我们写代码到底是在写什么？

我们写项目其实就是写模块然后设计它们之间的沟通，设计模式说白了就是帮助我们更好的设计模块，
更好的组织它们之间的沟通。

🔥设计模式扮演的角色

- 帮助我们组织模块

   通过一些设计模式，组织模块间的组成结构
- 帮助我们设计沟通

  有的设计模式可以帮助我们设计模块间如何沟通

- 提高代码质量

  通过设计模式，让代码更加优雅

🔥设计原则

 1. 开闭原则

     我们的程序要对扩展开放，对修改关闭；我们的程序要给具体使用的时候扩展的接口，但是在具体使用的时候不能让其修改我们的源码，
     也就是说我们不用修改源码就能扩展功能，像vue，react等都有扩展的接口。

 2. 单一职责原则

    我们的模块只做一件事情，模块的职责越单一越好。

 3. 依赖倒置原则

     我们的上层模块不要依赖与具体的下层模块，应该依赖于抽象

假如下面是一套点餐系统，我们在上层和下层之间加一个抽象层；下层如何变动都不会影响到上层，只需更改抽象层即可。
 ```javascript
    // 具体层
    function Food1 (){}
    function Food2 (){}
    function Food3 (){}

    // 抽象层
    function  resturn (food) {
        var list={
            food1:new Food1(),
            food2:new Food2(),
            food3:new Food3(),
        }
        return list[food]
    }

    // 上层
    function order (food){
        return resturn(food)
    }
 ```
4. 接口隔离原则
  
  我们的接口要细化，功能要单一，一个接口不要调用太多方法，使其能力单一，听起来像单一职责原则；但是2者的关注点不同，
  单一职责原则主要关注于模块本身，接口隔离原则关注于接口；我们尽量细化接口，每个接口做的事情尽量单一化。

5. 迪米特法则

 我们让2个对象之间产生沟通，我们最好让2个对象之间知道的越少越好，没必要2者之间非常的了解；我们的中介者模式是一个很好体现迪米特法则的设计模式，中介者模式让2个对象之间没必要直接的沟通，如果直接沟通需要了解2者之间的api和彼此的调用方式，这个时候我们可以采用一个中介者来转达我们的需求，而不用彼此知道

6. 里氏替换原则

它主要关注于继承，它的意义是任何使用父类的地方都可以用子类去替换，直白的说我们子类继承父类的时候，我们的子类必须完全保证继承父类的属性和方法，这样的话父类使用的地方，子类可以进行替换

 <font color="red">**后面学习到设计模式都是在体现这些设计原则**</font>

### 1.2 设计模式的分类

1. 创建型

这些设计模式可以帮助我们优雅地创建对象

2. 结构型

帮助我们优雅地设计代码结构

3. 行为型

模块之间行为的模式总结，帮助我们组织模块行为

4. 技巧型

一些帮助我们优化代码的技巧


🔥创建型
 
- 工厂模式-大量创建对象

- 单例模式-全局只能有我一个

- 建造者模式-精细化组合对象

- 原型模式-javaScript的灵魂

🔥结构型

- 外观模式-给你的一个套餐

- 适配器模式-用适配代替更改

- 装饰者模式-更优雅地扩展需求

- 享元模式-共享来减少数量

- 桥接模式-独立出来，然后再对接过去

🔥行为型

- 观察者模式-我作为第三方转发

- 状态模式-用状态代替判断

- 策略模式-算法工厂

- 职责链模式-像生产线一样组织模块

- 命令模式-用命令去解耦

- 迭代器模式-告别for循环

🔥技巧模式

- 链模式-链式调用

- 委托模式-让别人代替你收快递

- 数据访问模式-一个方便的数据管理器

- 惰性模式-我要搞机器学习（第一次执行完后把状态记录下来）

- 等待者模式-等你们都回来再吃饭

### 1.3 重点设计模式区别
观察者模式

观察者模式定义了对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都将得到通知，并自动更新。观察者模式属于行为型模式，行为型模式关注的是对象之间的通讯，观察者模式就是观察者和被观察者之间的通讯。

观察者模式则是面向目标和观察者编程的,用于耦合目标和观察者

发布-订阅模式

在现在的发布订阅模式中，称为发布者的消息发送者不会将消息直接发送给订阅者，这意味着发布者和订阅者不知道彼此的存在。在发布者和订阅者之间存在第三个组件，称为调度中心或事件通道，它维持着发布者和订阅者之间的联系，过滤所有发布者传入的消息并相应地分发它们给订阅者

发布-订阅模式是面向调度中心编程的,用于解耦发布者和订阅者